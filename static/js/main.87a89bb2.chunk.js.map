{"version":3,"sources":["components/core/Header/styles.module.css","components/MainScreen/styles.module.css","components/core/SlideUpModal/styles.module.css","components/Splash/styles.module.css","components/OrderScreen/styles.module.css","reportWebVitals.ts","api/index.js","config/apiConfig.js","data/index.js","components/Splash/index.js","components/core/Header/index.js","utils.js","components/MainScreen/index.js","components/core/SlideUpModal/index.js","components/OrderScreen/index.js","App.js","index.js"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","api","axios","create","baseURL","get","url","r","data","post","put","API","addUser","name","favorites","getUsersList","getProductsList","getOrdersList","addProduct","initiateOrder","date","moment","format","isClosed","closeOrder","orderId","patch","editProductAmount","userId","productId","a","amount","removeUserProduct","delete","instance","withCredentials","ToDoDoLi","createList","JSON","stringify","color","items","addTask","id","text","done","window","todo","stateShape","products","users","orders","isLoaded","DataContext","createContext","Splash","isVisible","useState","isShown","setShown","_isVisible","setVisible","useEffect","setTimeout","DELAY","className","styles","splash","style","opacity","HeaderButton","label","onClick","height","isProductButton","props","productButton","headerButton","borderRadius","Header","title","goBack","rightButton","header","headerSide","headerTitle","disabled","onPress","DATE_FORMAT","getLocalDate","dateString","fullString","substring","length","sumObjectsByKey","objs","reduce","b","k","hasOwnProperty","OrderItem","order","history","useHistory","orderWrapper","push","orderTopLine","orderTitle","orderNotClosed","orderBottomLine","getBottomText","mapOrders","Object","entries","map","orderData","keys","reverse","MainScreen","useContext","onCreate","display","flexDirection","ordersList","SlideUpModal","isOpen","onClose","modalContainer","width","shouldCloseOnEsc","hideHeader","onRequestClose","from","cringe","modalBody","children","EmptyState","onStart","emptyStateContainer","emptyStateIconAndText","UserSelect","onSelectUser","useParams","search","setSearch","alreadyOrderedUsers","value","onChange","placeholder","list","user","filter","includes","toLowerCase","User","userItem","AddItem","border","ModalHeader","button","modalHeader","SearchBar","searchBar","e","target","ProductSelectModal","addToCart","onAdd","onAddToCart","cart","getCart","section","product","isInCart","onAmountChange","n","Product","productItem","productControllers","UserListItem","alert","orderItem","orderHeader","orderList","OrderDoneModal","response","total","getTotal","promises","item","Promise","all","open","focus","arrayOfCarts","totalObj","OrderScreen","isUserSelectModalOpen","setUserSelectModalOpen","isProductSelectModalOpen","setProductSelectModalOpen","selectedUser","setSelectedUser","isDoneModalOpen","setDoneModalOpen","doneButtonDisabled","currentOrder","userIds","onAddOrDeleteProduct","content","onEditUsersOrder","App","appData","state","setState","methods","getUsers","prevState","getProducts","getOrders","fetchAll","userName","productName","useAppData","locale","overflow","alignItems","backgroundColor","maxWidth","flex","Provider","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.87a89bb2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"styles_header__Q2RVD\",\"headerSide\":\"styles_headerSide__2hRBZ\",\"headerTitle\":\"styles_headerTitle__2bLvD\",\"headerButton\":\"styles_headerButton__Am7pH\",\"productButton\":\"styles_productButton__3MNhX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"orderWrapper\":\"styles_orderWrapper__2QG6O\",\"orderTopLine\":\"styles_orderTopLine__2YhkW\",\"orderTitle\":\"styles_orderTitle__wCdw-\",\"orderNotClosed\":\"styles_orderNotClosed__3Ng-7\",\"orderBottomLine\":\"styles_orderBottomLine__3a0E5\",\"ordersList\":\"styles_ordersList__hzMLB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalBody\":\"styles_modalBody__-wOS1\",\"modalContainer\":\"styles_modalContainer__ZYXGk\",\"cringe\":\"styles_cringe__3mfQK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"splash\":\"styles_splash__1fXxQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"emptyStateContainer\":\"styles_emptyStateContainer__1yIEd\",\"content\":\"styles_content__3Sj9Y\",\"emptyStateIconAndText\":\"styles_emptyStateIconAndText__BhQvw\",\"modalHeader\":\"styles_modalHeader__34GLQ\",\"userItem\":\"styles_userItem__Aomrc\",\"searchBar\":\"styles_searchBar__1rRki\",\"list\":\"styles_list__1WgKM\",\"section\":\"styles_section__5Wjnj\",\"productItem\":\"styles_productItem__2o8dt\",\"productControllers\":\"styles_productControllers__n2SrE\",\"orderItem\":\"styles_orderItem__1AAC3\",\"orderHeader\":\"styles_orderHeader__EPWT7\",\"orderList\":\"styles_orderList___KqHm\"};","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import axios from 'axios'\nimport {BASE_URL} from \"../config/apiConfig\";\nimport moment from \"moment\";\n\nconst api = axios.create({\n    baseURL: BASE_URL,\n})\n\nfunction get (url) {\n    return api.get(url).then(r=>r?.data)\n}\n\nfunction remove (url) {\n    return api.delete(url).then(r=>r?.data)\n}\n\nfunction post (url, data) {\n    return api.post(url, data).then(r=>r?.data)\n}\n\nfunction put (url, data) {\n    return api.put(url, data).then(r=>r?.data)\n}\n\nconst API = {\n    addUser: (name) => {\n        const data = {\n            name: name,\n            favorites: null\n        }\n\n        return post('/users.json', data)\n    },\n\n    getUsersList: () => {\n      return get('/users.json')\n    },\n\n    getProductsList: () => {\n        return get('/products.json')\n    },\n\n    getOrdersList: () => {\n        return get('/orders.json')\n    },\n\n    addProduct: (name) => {\n        return post('/products.json', {name})\n    },\n\n    initiateOrder: (date = moment().format('DD.MM.YYYY')) => {\n        const data = {\n            isClosed: false,\n            date: date,\n            data: {}\n        }\n        return post('/orders.json', data)\n    },\n    closeOrder: (orderId) =>{\n        return api.patch(`/orders/${orderId}.json`, {isClosed: true})\n    },\n    editProductAmount: async (orderId, userId, productId, amount=1) => {\n        if (amount === 0)\n            return API.removeUserProduct(orderId, userId, productId)\n\n        return put(`/orders/${orderId}/data/${userId}/${productId}.json`, amount)\n    },\n\n    removeUserProduct: (orderId, userId, productId) => {\n        return remove(`/orders/${orderId}/data/${userId}/${productId}.json`)\n    }\n\n}\n\nexport default API\n\n\nconst instance = axios.create(\n    {\n        baseURL: \"https://todo-list-4b27a.firebaseio.com/\",\n        withCredentials: false\n    }\n)\n\nexport const ToDoDoLi = {\n    createList: (date) => {\n        return instance.post('storage.json', JSON.stringify({name: date, color: '#1A4D9E', items: []})).then(r=>r.data)\n    },\n    addTask: (id, text) => {\n        return instance.post(`storage/${id}/items.json`, {text: text, done: false}).then(r=>r.data)\n    },\n}\n\n\nwindow.todo = ToDoDoLi\n","export const BASE_URL = 'https://ecolenta-864d9-default-rtdb.europe-west1.firebasedatabase.app'\n\n","import {createContext, useState} from 'react'\nimport API from \"../api\";\n\n\nconst stateShape = {\n    products: {},\n    users: {},\n    orders: {},\n    isLoaded: false,\n}\n\nconst actionsShape = {\n    addUser(){},\n    addProduct(){},\n}\nexport function useAppData () {\n    const [state, setState] = useState(stateShape)\n\n    const methods = {\n        getUsers: async () => {\n            const users = await API.getUsersList()\n            setState(prevState => ({\n                ...prevState,\n                users\n            }))\n        },\n        getProducts: async () => {\n            const products = await API.getProductsList()\n            setState(prevState => ({\n                ...prevState,\n                products\n            }))\n        },\n        getOrders: async () => {\n            const orders = await API.getOrdersList()\n            setState(prevState => ({\n                ...prevState,\n                orders\n            }))\n        },\n        fetchAll: async () => {\n            await methods.getProducts()\n            await methods.getOrders()\n            await methods.getUsers()\n            setState(prevState => ({\n                ...prevState,\n                isLoaded: true\n            }))\n        },\n        addUser: async (userName) => {\n            await API.addUser(userName).then(methods.getUsers)\n        },\n        addProduct: async (productName) => {\n            await API.addProduct(productName).then(methods.getProducts)\n        },\n        initiateOrder: async (date) => {\n            const data = await API.initiateOrder(date)\n            await methods.getOrders()\n            return data\n        },\n        closeOrder: async (orderId) => {\n            await API.closeOrder(orderId).then(methods.getOrders)\n        },\n        addToCart: async (orderId, userId, productId, amount) => {\n            await API.editProductAmount(orderId, userId, productId, amount).then(methods.getOrders)\n        }\n\n    }\n    window.data={...state, ...methods}\n\n    return {...state, ...methods}\n}\n\nconst DataContext = createContext({...stateShape, ...actionsShape})\n\nexport default DataContext\n","import React, {useEffect, useState} from \"react\";\nimport styles from './styles.module.css'\n\nconst DELAY = 1200\nconst Splash = ({isVisible=false}) => {\n    const [isShown, setShown] = useState(isVisible)\n    const [_isVisible, setVisible] = useState(isVisible)\n\n    useEffect(()=>{\n        if (isVisible) {\n            setShown(true)\n        } else {\n            setTimeout(()=>setVisible(false), DELAY)\n            setTimeout(()=>setShown(false), DELAY + 300) //кринж\n        }\n    }, [isVisible])\n\n    if (!isShown) return null\n\n    return <div className={styles.splash} style={{opacity: _isVisible ? 1 : 0}}>\n        <div><b>Эко</b>Айти</div>\n        <div>🥪🥗🥟</div>\n    </div>\n}\n\nexport default Splash\n","import React from \"react\";\nimport styles from './styles.module.css'\n\nconst Header = ({title='Скоро обед!', goBack= null, rightButton = null }) => {\n\n    return <div className={styles.header}>\n        <div className={styles.headerSide} onClick={goBack || function (){}}>\n            {goBack && <i className={'fas fa-arrow-left'}/>}\n        </div>\n        <div className={styles.headerTitle}>{title}</div>\n        <div className={styles.headerSide}>\n            {rightButton && <HeaderButton disabled={rightButton?.disabled} onClick={rightButton.onClick || rightButton.onPress} label={rightButton.label} />}\n        </div>\n    </div>\n}\n\nexport const HeaderButton = ({label='button', onClick=()=>{}, height=30, isProductButton=false, ...props}) => {\n    return <button className={isProductButton ? styles.productButton :styles.headerButton} style={{height, borderRadius: height / 2}} onClick={onClick} {...props}>{label}</button>\n}\n\nexport default Header\n","import moment from \"moment\";\nimport {useEffect, useState} from \"react\";\n\nconst DATE_FORMAT = 'DD.MM.YYYY'\n\nexport const getLocalDate = (dateString) => {\n    const fullString = moment(dateString, DATE_FORMAT).format('LL')\n\n    return fullString.substring(0, fullString.length - 7)\n}\n\nexport const today = () => {\n    return moment().format(DATE_FORMAT)\n}\n\nexport const useLongPress = (callback = () => {}, ms = 300) => {\n    const [startLongPress, setStartLongPress] = useState(false);\n\n    useEffect(() => {\n        let timerId;\n        if (startLongPress) {\n            timerId = setTimeout(callback, ms);\n        } else {\n            clearTimeout(timerId);\n        }\n\n        return () => {\n            clearTimeout(timerId);\n        };\n    }, [callback, ms, startLongPress]);\n\n    return {\n        onMouseDown: () => setStartLongPress(true),\n        onMouseUp: () => setStartLongPress(false),\n        onMouseLeave: () => setStartLongPress(false),\n        onTouchStart: () => setStartLongPress(true),\n        onTouchEnd: () => setStartLongPress(false),\n    };\n}\n\n\nexport function sumObjectsByKey(...objs) {\n    return objs.reduce((a, b) => {\n        for (let k in b) {\n            if (b.hasOwnProperty(k))\n                a[k] = (a[k] || 0) + b[k];\n        }\n        return a;\n    }, {});\n}\n","import React, {useContext} from 'react'\nimport Header from \"../core/Header\";\nimport DataContext from \"../../data\";\nimport styles from './styles.module.css'\nimport {useHistory} from 'react-router-dom'\nimport {getLocalDate, today} from \"../../utils\";\n\nconst MainScreen = () => {\n\n    const {orders, users, initiateOrder} = useContext(DataContext)\n    const history = useHistory()\n\n    const onCreate = async () => {\n        const data = await initiateOrder(today())\n        history.push('/order/'+data?.name)\n\n    }\n\n    return <div style={{height: '100vh', display: 'flex', flexDirection: 'column'}}>\n        <Header title={'Заказы'} rightButton={{label: 'Создать', onClick: onCreate}}/>\n        <div className={styles.ordersList}>\n            {mapOrders(orders, users).map(order=><OrderItem key={order.id} order={order}/>)}\n        </div>\n    </div>\n}\n\nconst OrderItem = ({order}) => {\n    const history = useHistory()\n\n    const navigateToOrder = () => {\n        history.push('/order/'+order.id)\n    }\n\n    function getBottomText () {\n        const users = order?.users\n        if (users?.length) {\n            return `${users[0]} ${users[1] ? ', '+users[1] : ''} ${users.length > 2 ? ('и ещё '+ (users.length - 2)) : ''}`\n        }\n        return 'Никого('\n    }\n\n    return <div className={styles.orderWrapper} onClick={navigateToOrder}>\n        <div className={styles.orderTopLine}>\n           <div className={styles.orderTitle}>{getLocalDate(order.date)}</div>\n           <div className={styles.orderNotClosed}>{order.isClosed ? '' : 'Не заказан!'}</div>\n        </div>\n        <div className={styles.orderBottomLine}>{getBottomText()}</div>\n    </div>\n}\n\nfunction mapOrders (orders, users) {\n    return [...Object.entries(orders || {}).map(([orderId, orderData])=>({\n        id: orderId,\n        users: Object.keys(orderData?.data || {}).map(userId=>users?.[userId]?.name),\n        ...orderData\n    }))].reverse()\n}\n\nexport default MainScreen\n","import React from 'react'\nimport SlidingPane from \"react-sliding-pane\";\nimport styles from './styles.module.css'\nimport './customModalStyles.css'\n\nconst SlideUpModal = ({isOpen = false, onClose = () => {}, ...props}) => {\n    return <SlidingPane isOpen={isOpen}\n                        className={styles.modalContainer}\n                        width={'100vw'}\n                        shouldCloseOnEsc={true}\n                        hideHeader={true}\n                        onRequestClose={onClose}\n                        from={'bottom'}\n    >\n        <div className={styles.cringe}>Тут могло быть закрытие свайпом...</div>\n        <div className={styles.modalBody}>\n            {props.children}\n        </div>\n    </SlidingPane>\n}\n\n\nexport default SlideUpModal\n","import React, {useContext, useState} from \"react\";\nimport Header, {HeaderButton} from \"../core/Header\";\nimport {Route, useHistory, useParams} from 'react-router-dom'\nimport DataContext from \"../../data\";\nimport {getLocalDate, sumObjectsByKey} from \"../../utils\";\nimport styles from './styles.module.css'\nimport SlideUpModal from \"../core/SlideUpModal\";\nimport {ToDoDoLi} from \"../../api\";\n\nconst OrderScreen = ({...props}) => {\n    const {id} = useParams()\n    const history = useHistory()\n    const {orders, users, products} = useContext(DataContext)\n    const [isUserSelectModalOpen, setUserSelectModalOpen] = useState(false)\n    const [isProductSelectModalOpen, setProductSelectModalOpen] = useState(false)\n    const [selectedUser, setSelectedUser] = useState(null)\n    const [isDoneModalOpen, setDoneModalOpen] = useState(false)\n\n    function onEditUsersOrder (userId) {\n        setSelectedUser(userId)\n        setProductSelectModalOpen(true)\n    }\n\n    const doneButtonDisabled = !orders[id]?.data || Object.keys(orders[id]?.data || {})?.length === 0\n\n    function onUserSelected (userId) {\n        setSelectedUser(userId)\n        setUserSelectModalOpen(false)\n        setTimeout(()=>{\n            setProductSelectModalOpen(true)\n        }, 300)\n    }\n\n    function onProductModalClose() {\n        setSelectedUser(null)\n        setProductSelectModalOpen(false)\n        setUserSelectModalOpen(false)\n    }\n    const currentOrder = orders[id] || {}\n\n    const userIds = Object.keys(currentOrder.data || {})\n\n    function goBack() {\n        history.goBack()\n    }\n    return <div style={{height: '100vh', display: 'flex', flexDirection: 'column'}}>\n       <UserSelect onClose={()=>setUserSelectModalOpen(false)} isOpen={isUserSelectModalOpen} onSelectUser={onUserSelected}/>\n        <OrderDoneModal isOpen={isDoneModalOpen} onClose={()=>setDoneModalOpen(false)}/>\n        <ProductSelectModal isOpen={isProductSelectModalOpen} userId={selectedUser} onAddOrDeleteProduct={()=>{}} onClose={onProductModalClose}/>\n        <Header title={getLocalDate(orders[id]?.date)}\n                goBack={goBack}\n                rightButton={{label: 'Заказать!', onPress:()=>setDoneModalOpen(true), disabled: doneButtonDisabled}}\n        />\n        <div className={styles.content}>\n            {!currentOrder.data ? <EmptyState onStart={()=>setUserSelectModalOpen(true)}/> :\n                <div>\n                    {userIds?.map(userId=><UserListItem userId={userId} key={userId} onClick={()=>onEditUsersOrder(userId)}/>)}\n                    <HeaderButton label={'Ещё не все заказали!'} height={50} onClick={()=>{setUserSelectModalOpen(true)}}/>\n                </div>\n            }\n        </div>\n    </div>\n}\n\nconst EmptyState = ({onStart=()=>{}}) => {\n    return <div className={styles.emptyStateContainer}>\n        <div className={styles.emptyStateIconAndText}>\n            <i className={'fas fa-utensils'}/>\n            <div>Такс... Ну, кто чего хочет из Ленты?</div>\n        </div>\n        <HeaderButton label={'Начать!'} height={50} onClick={onStart}/>\n    </div>\n}\n\nconst UserSelect = ({isOpen, onClose, onSelectUser=()=>{}}) => {\n\n    const {id} = useParams()\n\n\n    const [search, setSearch] = useState('')\n\n    const {users, addUser, orders} = useContext(DataContext)\n\n    const alreadyOrderedUsers = Object.keys(orders?.[id]?.data || {}) || []\n\n    async function onAdd () {\n        await addUser(search)\n        setSearch('')\n\n    }\n\n    function getUsers() {\n        return Object.entries(users || {}).map(([id, user])=>({\n            id,\n            ...user\n        })).filter(({name, id})=>{\n            if (alreadyOrderedUsers.includes(id)) return false\n            if (search == '') return true\n\n            return name?.toLowerCase().includes(search?.toLowerCase())\n        })\n    }\n\n    return <SlideUpModal isOpen={isOpen} onClose={onClose}>\n        <ModalHeader title={'Кому?'}/>\n        <SearchBar value={search} onChange={setSearch} placeholder={'Имя...'}/>\n        <div className={styles.list}>\n            {getUsers().map(user => <User name={user.name} onClick={()=>onSelectUser(user.id)}/>)}\n            {search !== '' && <AddItem name={search} onClick={onAdd}/>}\n        </div>\n        <div/>\n    </SlideUpModal>\n}\n\nconst User = ({name, onClick}) => {\n    return <div className={styles.userItem} onClick={onClick}>{name}</div>\n}\n\nconst AddItem = ({name, onClick}) => {\n    return <div className={styles.userItem}\n                style={{border: 'none', color: '#1A4D9E'}}\n                onClick={onClick}\n    >{`Добавить \"${name}\"`}</div>\n}\n\nconst ModalHeader = ({title, button}) => {\n    return <div className={styles.modalHeader}>\n        <div>{title}</div>\n        {button?.label && <div><HeaderButton onClick={button.onPress} label={button.label}/></div>}\n    </div>\n}\n\nconst SearchBar = ({value, onChange, placeholder}) => {\n    return <input className={styles.searchBar} value={value} onChange={e=>onChange(e.target.value)} placeholder={placeholder}/>\n}\n\nconst ProductSelectModal = ({isOpen, userId, onClose}) => {\n    const [search, setSearch] = useState('')\n    const {users, products, addProduct, orders, addToCart} = useContext(DataContext)\n    const user = users?.[userId]\n\n    const {id} = useParams()\n\n    function getCart () {\n        try {\n            const cart = orders[id].data[userId]\n            return Object.entries(cart || {}).map(([id, amount])=>({id, amount, name: products[id].name})) || []\n\n        } catch (e) {}\n    }\n\n    const onAdd = async () => {\n        await addProduct(search)\n        setSearch('')\n    }\n    const getProducts = () => {\n        return Object.entries(products || {}).map(([id, product])=>({id, ...product})).filter(({name})=>{\n            if (search == '') return true\n\n            return name?.toLowerCase().includes(search?.toLowerCase())\n        })\n    }\n\n    async function onAddToCart (productId, amount) {\n        await addToCart(id, userId, productId, amount)\n    }\n\n    const cart = getCart()\n\n    return <SlideUpModal isOpen={isOpen}>\n        <ModalHeader title={user?.name} button={{label: 'Готово', onPress: onClose}}/>\n        <SearchBar value={search} onChange={setSearch} placeholder={'Товар...'}/>\n        <div className={styles.list}>\n            {cart?.length > 0 && <div className={styles.section}>{'В корзине:'}</div>}\n            {cart?.map(product=> <Product name={product.name} isInCart={true} onAmountChange={(n)=>onAddToCart(product.id, n)} amount={product.amount}/>)}\n            <div className={styles.section}>{'Ещё не в корзине:'}</div>\n            {getProducts().map(product => <Product name={product.name} onAmountChange={()=>onAddToCart(product.id, 1)}/>)}\n            {search !== '' && <AddItem name={search} onClick={onAdd}/>}\n        </div>\n        <div/>\n    </SlideUpModal>\n}\n\nconst Product = ({name, amount, onAmountChange, isInCart=false}) => {\n\n    if (!isInCart) return <div className={styles.userItem} onClick={()=>onAmountChange(1)}>{name}</div>\n\n    return <div className={styles.productItem}>\n        <div>{amount+' x '+ name}</div>\n        <div className={styles.productControllers}>\n            <HeaderButton label={<i className={'fas fa-minus'}/>} isProductButton onClick={()=>onAmountChange(amount - 1)}/>\n            <HeaderButton label={<i className={'fas fa-plus'}/>} isProductButton onClick={()=>onAmountChange(amount + 1)}/>\n        </div>\n    </div>\n}\n\nconst UserListItem = ({userId, onClick=()=>{}}) => {\n    const {id} = useParams()\n    const {orders, users, products} = useContext(DataContext)\n\n    function getCart () {\n        try {\n            const cart = orders[id].data[userId]\n            return Object.entries(cart || {}).map(([id, amount])=>({id, amount, name: products[id].name})) || []\n\n        } catch (e) {\n            alert(e)\n        }\n    }\n\n    const cart = getCart()\n\n    return <div className={styles.orderItem} onClick={onClick}>\n        <div className={styles.orderHeader}>\n            {users?.[userId]?.name}\n        </div>\n        <div className={styles.orderList}>\n            {cart.map(({amount, name})=><div>{amount+' x '+name}</div>)}\n        </div>\n    </div>\n}\n\nconst OrderDoneModal = ({isOpen, onClose}) => {\n    const {id} = useParams()\n    const {orders, products, closeOrder} = useContext(DataContext)\n\n    async function createToDoList () {\n        const response = await ToDoDoLi.createList(`Список от ${orders[id].date}`)\n        if (response.name) {\n            const total = getTotal()\n            const promises = total.map((item)=>{\n               return ToDoDoLi.addTask(response.name, `${item.amount} x ${item.name}`)\n            })\n            Promise.all(promises).then(()=>{\n                const win = window.open(\"https://tododoli.github.io/#/\"+response.name, \"_blank\");\n                win.focus();\n                closeOrder && closeOrder(id)\n            })\n        }\n    }\n\n    function getTotal () {\n        const orderData = orders[id]?.data\n        const arrayOfCarts = Object.entries(orderData || {}).map(([userId, cart])=>({\n            ...cart\n        }))\n\n        const totalObj = sumObjectsByKey(...arrayOfCarts)\n        return Object.entries(totalObj || {}).map(([id, amount])=>({name: products[id].name, amount}))\n    }\n\n\n    return <SlideUpModal isOpen={isOpen} onClose={onClose}>\n        <ModalHeader title={'Ого, сколько всего!'}/>\n        <div className={styles.list}>\n            <div style={{height: 16}}/>\n            <div className={styles.orderItem}>\n                <div className={styles.orderList}>\n                    {getTotal().map(({amount, name}) => <div>{amount + ' x ' + name}</div>)}\n                </div>\n            </div>\n            <HeaderButton label={'Экспорт в ToDoDoLi'} onClick={createToDoList} height={50}/>\n        </div>\n    </SlideUpModal>\n}\n\nexport default OrderScreen\n","import React, {useEffect} from 'react';\nimport './App.css';\nimport API from \"./api\";\nimport DataContext, {useAppData} from \"./data\";\nimport Splash from \"./components/Splash\";\nimport {HashRouter, Route} from \"react-router-dom\";\nimport MainScreen from \"./components/MainScreen\";\nimport Div100vh from \"react-div-100vh\";\nimport moment from \"moment\";\nimport 'moment/locale/ru'\nimport OrderScreen from \"./components/OrderScreen\";\n\n\nfunction App() {\n    const appData = useAppData()\n\n\n    useEffect(()=>{\n        appData.fetchAll()\n        moment.locale('ru')\n    },[])\n\n    return <Div100vh style={{overflow: 'hidden', display: 'flex', flexDirection: 'column', alignItems: 'center', backgroundColor: '#f7f7f7'}}>\n        <div style={{maxWidth: 400, backgroundColor: 'white', flex: 1}}>\n            <DataContext.Provider value={appData}>\n                <Splash isVisible={!appData.isLoaded}/>\n                <HashRouter>\n                    <Route exact path={'/'} component={MainScreen}/>\n                    <Route path={'/order/:id'} component={OrderScreen}/>\n                </HashRouter>\n            </DataContext.Provider>\n        </div>\n    </Div100vh>\n}\n\nwindow.api = API\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport App from \"./App\";\nimport '@fortawesome/fontawesome-free/css/all.css'\n\nReactDOM.render(<App/>, document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}
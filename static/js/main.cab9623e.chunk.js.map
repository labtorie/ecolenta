{"version":3,"sources":["components/core/Header/styles.module.css","components/MainScreen/styles.module.css","components/core/SlideUpModal/styles.module.css","components/Splash/styles.module.css","components/OrderScreen/styles.module.css","reportWebVitals.ts","api/index.js","config/apiConfig.js","data/index.js","components/Splash/index.js","components/core/Header/index.js","utils.js","components/MainScreen/index.js","components/core/SlideUpModal/index.js","components/OrderScreen/index.js","App.js","index.js"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","api","axios","create","baseURL","get","url","r","data","post","put","API","addUser","name","favorites","getUsersList","getProductsList","getOrdersList","addProduct","initiateOrder","date","moment","format","isClosed","closeOrder","orderId","patch","editProductAmount","userId","productId","a","amount","removeUserProduct","delete","instance","withCredentials","ToDoDoLi","createList","JSON","stringify","color","items","addTask","id","text","done","window","todo","stateShape","products","users","orders","isLoaded","DataContext","createContext","Splash","isVisible","useState","isShown","setShown","_isVisible","setVisible","useEffect","setTimeout","DELAY","className","styles","splash","style","opacity","HeaderButton","label","onClick","height","isProductButton","props","productButton","headerButton","borderRadius","Header","title","goBack","rightButton","header","headerSide","headerTitle","onPress","DATE_FORMAT","getLocalDate","dateString","fullString","substring","length","sumObjectsByKey","objs","reduce","b","k","hasOwnProperty","OrderItem","order","history","useHistory","orderWrapper","push","orderTopLine","orderTitle","orderNotClosed","orderBottomLine","getBottomText","mapOrders","Object","entries","map","orderData","keys","reverse","MainScreen","useContext","onCreate","lastId","pop","ordersList","SlideUpModal","isOpen","onClose","modalContainer","width","shouldCloseOnEsc","hideHeader","onRequestClose","from","cringe","modalBody","children","EmptyState","onStart","emptyStateContainer","emptyStateIconAndText","UserSelect","onSelectUser","useParams","search","setSearch","alreadyOrderedUsers","value","onChange","placeholder","list","user","filter","includes","toLowerCase","User","userItem","AddItem","border","ModalHeader","button","modalHeader","SearchBar","searchBar","e","target","ProductSelectModal","addToCart","onAdd","onAddToCart","cart","getCart","section","product","isInCart","onAmountChange","n","Product","productItem","productControllers","UserListItem","alert","orderItem","orderHeader","orderList","OrderDoneModal","response","total","getTotal","promises","item","Promise","all","open","focus","arrayOfCarts","totalObj","OrderScreen","isUserSelectModalOpen","setUserSelectModalOpen","isProductSelectModalOpen","setProductSelectModalOpen","selectedUser","setSelectedUser","isDoneModalOpen","setDoneModalOpen","currentOrder","userIds","onAddOrDeleteProduct","content","onEditUsersOrder","App","appData","state","setState","methods","getUsers","prevState","getProducts","getOrders","fetchAll","userName","productName","useAppData","locale","overflow","Provider","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cab9623e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"styles_header__9PMKt\",\"headerSide\":\"styles_headerSide__3YEaZ\",\"headerTitle\":\"styles_headerTitle__utj0v\",\"headerButton\":\"styles_headerButton__1_7Sp\",\"productButton\":\"styles_productButton__1iUWS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"orderWrapper\":\"styles_orderWrapper__3e0Y1\",\"orderTopLine\":\"styles_orderTopLine__2qWtN\",\"orderTitle\":\"styles_orderTitle__1p_fa\",\"orderNotClosed\":\"styles_orderNotClosed__aTDfT\",\"orderBottomLine\":\"styles_orderBottomLine__3430C\",\"ordersList\":\"styles_ordersList__2rOHG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalBody\":\"styles_modalBody__3y-Zg\",\"modalContainer\":\"styles_modalContainer__1meCs\",\"cringe\":\"styles_cringe__wfXpP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"splash\":\"styles_splash__2U31C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"emptyStateContainer\":\"styles_emptyStateContainer__26Pnp\",\"content\":\"styles_content__38hz_\",\"emptyStateIconAndText\":\"styles_emptyStateIconAndText__-DK8J\",\"modalHeader\":\"styles_modalHeader__U-PGB\",\"userItem\":\"styles_userItem__1GLs6\",\"searchBar\":\"styles_searchBar__10hLL\",\"list\":\"styles_list__36gqw\",\"section\":\"styles_section__2D9Va\",\"productItem\":\"styles_productItem__3-xTE\",\"productControllers\":\"styles_productControllers__39sDK\",\"orderItem\":\"styles_orderItem__2qzE1\",\"orderHeader\":\"styles_orderHeader__2HO47\",\"orderList\":\"styles_orderList__3ObWF\"};","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import axios from 'axios'\r\nimport {BASE_URL} from \"../config/apiConfig\";\r\nimport moment from \"moment\";\r\n\r\nconst api = axios.create({\r\n    baseURL: BASE_URL,\r\n})\r\n\r\nfunction get (url) {\r\n    return api.get(url).then(r=>r?.data)\r\n}\r\n\r\nfunction remove (url) {\r\n    return api.delete(url).then(r=>r?.data)\r\n}\r\n\r\nfunction post (url, data) {\r\n    return api.post(url, data).then(r=>r?.data)\r\n}\r\n\r\nfunction put (url, data) {\r\n    return api.put(url, data).then(r=>r?.data)\r\n}\r\n\r\nconst API = {\r\n    addUser: (name) => {\r\n        const data = {\r\n            name: name,\r\n            favorites: null\r\n        }\r\n\r\n        return post('/users.json', data)\r\n    },\r\n\r\n    getUsersList: () => {\r\n      return get('/users.json')\r\n    },\r\n\r\n    getProductsList: () => {\r\n        return get('/products.json')\r\n    },\r\n\r\n    getOrdersList: () => {\r\n        return get('/orders.json')\r\n    },\r\n\r\n    addProduct: (name) => {\r\n        return post('/products.json', {name})\r\n    },\r\n\r\n    initiateOrder: (date = moment().format('DD.MM.YYYY')) => {\r\n        const data = {\r\n            isClosed: false,\r\n            date: date,\r\n            data: {}\r\n        }\r\n        return post('/orders.json', data)\r\n    },\r\n    closeOrder: (orderId) =>{\r\n        return api.patch(`/orders/${orderId}.json`, {isClosed: true})\r\n    },\r\n    editProductAmount: async (orderId, userId, productId, amount=1) => {\r\n        if (amount === 0)\r\n            return API.removeUserProduct(orderId, userId, productId)\r\n\r\n        return put(`/orders/${orderId}/data/${userId}/${productId}.json`, amount)\r\n    },\r\n\r\n    removeUserProduct: (orderId, userId, productId) => {\r\n        return remove(`/orders/${orderId}/data/${userId}/${productId}.json`)\r\n    }\r\n\r\n}\r\n\r\nexport default API\r\n\r\n\r\nconst instance = axios.create(\r\n    {\r\n        baseURL: \"https://todo-list-4b27a.firebaseio.com/\",\r\n        withCredentials: false\r\n    }\r\n)\r\n\r\nexport const ToDoDoLi = {\r\n    createList: (date) => {\r\n        return instance.post('storage.json', JSON.stringify({name: date, color: '#1A4D9E', items: []})).then(r=>r.data)\r\n    },\r\n    addTask: (id, text) => {\r\n        return instance.post(`storage/${id}/items.json`, {text: text, done: false}).then(r=>r.data)\r\n    },\r\n}\r\n\r\n\r\nwindow.todo = ToDoDoLi\r\n","export const BASE_URL = 'https://ecolenta-864d9-default-rtdb.europe-west1.firebasedatabase.app'\r\n\r\n","import {createContext, useState} from 'react'\r\nimport API from \"../api\";\r\n\r\n\r\nconst stateShape = {\r\n    products: {},\r\n    users: {},\r\n    orders: {},\r\n    isLoaded: false,\r\n}\r\n\r\nconst actionsShape = {\r\n    addUser(){},\r\n    addProduct(){},\r\n}\r\nexport function useAppData () {\r\n    const [state, setState] = useState(stateShape)\r\n\r\n    const methods = {\r\n        getUsers: async () => {\r\n            const users = await API.getUsersList()\r\n            setState(prevState => ({\r\n                ...prevState,\r\n                users\r\n            }))\r\n        },\r\n        getProducts: async () => {\r\n            const products = await API.getProductsList()\r\n            setState(prevState => ({\r\n                ...prevState,\r\n                products\r\n            }))\r\n        },\r\n        getOrders: async () => {\r\n            const orders = await API.getOrdersList()\r\n            setState(prevState => ({\r\n                ...prevState,\r\n                orders\r\n            }))\r\n        },\r\n        fetchAll: async () => {\r\n            await methods.getProducts()\r\n            await methods.getOrders()\r\n            await methods.getUsers()\r\n            setState(prevState => ({\r\n                ...prevState,\r\n                isLoaded: true\r\n            }))\r\n        },\r\n        addUser: async (userName) => {\r\n            await API.addUser(userName).then(methods.getUsers)\r\n        },\r\n        addProduct: async (productName) => {\r\n            await API.addProduct(productName).then(methods.getProducts)\r\n        },\r\n        initiateOrder: async (date) => {\r\n            await API.initiateOrder(date).then(methods.getOrders)\r\n        },\r\n        closeOrder: async (orderId) => {\r\n            await API.closeOrder(orderId).then(methods.getOrders)\r\n        },\r\n        addToCart: async (orderId, userId, productId, amount) => {\r\n            await API.editProductAmount(orderId, userId, productId, amount).then(methods.getOrders)\r\n        }\r\n\r\n    }\r\n    window.data={...state, ...methods}\r\n\r\n    return {...state, ...methods}\r\n}\r\n\r\nconst DataContext = createContext({...stateShape, ...actionsShape})\r\n\r\nexport default DataContext\r\n","import React, {useEffect, useState} from \"react\";\r\nimport styles from './styles.module.css'\r\n\r\nconst DELAY = 1200\r\nconst Splash = ({isVisible=false}) => {\r\n    const [isShown, setShown] = useState(isVisible)\r\n    const [_isVisible, setVisible] = useState(isVisible)\r\n\r\n    useEffect(()=>{\r\n        if (isVisible) {\r\n            setShown(true)\r\n        } else {\r\n            setTimeout(()=>setVisible(false), DELAY)\r\n            setTimeout(()=>setShown(false), DELAY + 300) //кринж\r\n        }\r\n    }, [isVisible])\r\n\r\n    if (!isShown) return null\r\n\r\n    return <div className={styles.splash} style={{opacity: _isVisible ? 1 : 0}}>\r\n        <div><b>Эко</b>Айти</div>\r\n        <div>🥪🥗🥟</div>\r\n    </div>\r\n}\r\n\r\nexport default Splash\r\n","import React from \"react\";\r\nimport styles from './styles.module.css'\r\n\r\nconst Header = ({title='Скоро обед!', goBack= null, rightButton = null }) => {\r\n\r\n    return <div className={styles.header}>\r\n        <div className={styles.headerSide} onClick={goBack || function (){}}>\r\n            {goBack && <i className={'fas fa-arrow-left'}/>}\r\n        </div>\r\n        <div className={styles.headerTitle}>{title}</div>\r\n        <div className={styles.headerSide}>\r\n            {rightButton && <HeaderButton onClick={rightButton.onClick || rightButton.onPress} label={rightButton.label} />}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport const HeaderButton = ({label='button', onClick=()=>{}, height=30, isProductButton=false, ...props}) => {\r\n    return <button className={isProductButton ? styles.productButton :styles.headerButton} style={{height, borderRadius: height / 2}} onClick={onClick} {...props}>{label}</button>\r\n}\r\n\r\nexport default Header\r\n","import moment from \"moment\";\r\nimport {useEffect, useState} from \"react\";\r\n\r\nconst DATE_FORMAT = 'DD.MM.YYYY'\r\n\r\nexport const getLocalDate = (dateString) => {\r\n    const fullString = moment(dateString, DATE_FORMAT).format('LL')\r\n\r\n    return fullString.substring(0, fullString.length - 7)\r\n}\r\n\r\nexport const today = () => {\r\n    return moment().format(DATE_FORMAT)\r\n}\r\n\r\nexport const useLongPress = (callback = () => {}, ms = 300) => {\r\n    const [startLongPress, setStartLongPress] = useState(false);\r\n\r\n    useEffect(() => {\r\n        let timerId;\r\n        if (startLongPress) {\r\n            timerId = setTimeout(callback, ms);\r\n        } else {\r\n            clearTimeout(timerId);\r\n        }\r\n\r\n        return () => {\r\n            clearTimeout(timerId);\r\n        };\r\n    }, [callback, ms, startLongPress]);\r\n\r\n    return {\r\n        onMouseDown: () => setStartLongPress(true),\r\n        onMouseUp: () => setStartLongPress(false),\r\n        onMouseLeave: () => setStartLongPress(false),\r\n        onTouchStart: () => setStartLongPress(true),\r\n        onTouchEnd: () => setStartLongPress(false),\r\n    };\r\n}\r\n\r\n\r\nexport function sumObjectsByKey(...objs) {\r\n    return objs.reduce((a, b) => {\r\n        for (let k in b) {\r\n            if (b.hasOwnProperty(k))\r\n                a[k] = (a[k] || 0) + b[k];\r\n        }\r\n        return a;\r\n    }, {});\r\n}\r\n","import React, {useContext} from 'react'\r\nimport Header from \"../core/Header\";\r\nimport DataContext from \"../../data\";\r\nimport styles from './styles.module.css'\r\nimport {useHistory} from 'react-router-dom'\r\nimport {getLocalDate, today} from \"../../utils\";\r\n\r\nconst MainScreen = () => {\r\n\r\n    const {orders, users, initiateOrder} = useContext(DataContext)\r\n    const history = useHistory()\r\n\r\n    const onCreate = async () => {\r\n        await initiateOrder(today())\r\n        const lastId = Object.keys(orders).pop()\r\n        history.push('/order/'+lastId)\r\n\r\n    }\r\n\r\n    return <div style={{height: '100%'}}>\r\n        <Header title={'Заказы'} rightButton={{label: 'Создать', onClick: onCreate}}/>\r\n        <div className={styles.ordersList}>\r\n            {mapOrders(orders, users).map(order=><OrderItem key={order.id} order={order}/>)}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nconst OrderItem = ({order}) => {\r\n    const history = useHistory()\r\n\r\n    const navigateToOrder = () => {\r\n        history.push('/order/'+order.id)\r\n    }\r\n\r\n    function getBottomText () {\r\n        const users = order?.users\r\n        if (users?.length) {\r\n            return `${users[0]} ${users[1] ? ', '+users[1] : ''} ${users.length > 2 ? ('и ещё '+ (users.length - 2)) : ''}`\r\n        }\r\n        return 'Никого('\r\n    }\r\n\r\n    return <div className={styles.orderWrapper} onClick={navigateToOrder}>\r\n        <div className={styles.orderTopLine}>\r\n           <div className={styles.orderTitle}>{getLocalDate(order.date)}</div>\r\n           <div className={styles.orderNotClosed}>{order.isClosed ? '' : 'Не заказан!'}</div>\r\n        </div>\r\n        <div className={styles.orderBottomLine}>{getBottomText()}</div>\r\n    </div>\r\n}\r\n\r\nfunction mapOrders (orders, users) {\r\n    return [...Object.entries(orders || {}).map(([orderId, orderData])=>({\r\n        id: orderId,\r\n        users: Object.keys(orderData?.data || {}).map(userId=>users?.[userId]?.name),\r\n        ...orderData\r\n    }))].reverse()\r\n}\r\n\r\nexport default MainScreen\r\n","import React from 'react'\r\nimport SlidingPane from \"react-sliding-pane\";\r\nimport styles from './styles.module.css'\r\nimport './customModalStyles.css'\r\n\r\nconst SlideUpModal = ({isOpen = false, onClose = () => {}, ...props}) => {\r\n    return <SlidingPane isOpen={isOpen}\r\n                        className={styles.modalContainer}\r\n                        width={'100vw'}\r\n                        shouldCloseOnEsc={true}\r\n                        hideHeader={true}\r\n                        onRequestClose={onClose}\r\n                        from={'bottom'}\r\n    >\r\n        <div className={styles.cringe}>Тут могло быть закрытие свайпом...</div>\r\n        <div className={styles.modalBody}>\r\n            {props.children}\r\n        </div>\r\n    </SlidingPane>\r\n}\r\n\r\n\r\nexport default SlideUpModal\r\n","import React, {useContext, useState} from \"react\";\r\nimport Header, {HeaderButton} from \"../core/Header\";\r\nimport {Route, useHistory, useParams} from 'react-router-dom'\r\nimport DataContext from \"../../data\";\r\nimport {getLocalDate, sumObjectsByKey} from \"../../utils\";\r\nimport styles from './styles.module.css'\r\nimport SlideUpModal from \"../core/SlideUpModal\";\r\nimport {ToDoDoLi} from \"../../api\";\r\n\r\nconst OrderScreen = ({...props}) => {\r\n    const {id} = useParams()\r\n    const history = useHistory()\r\n    const {orders, users, products} = useContext(DataContext)\r\n    const [isUserSelectModalOpen, setUserSelectModalOpen] = useState(false)\r\n    const [isProductSelectModalOpen, setProductSelectModalOpen] = useState(false)\r\n    const [selectedUser, setSelectedUser] = useState(null)\r\n    const [isDoneModalOpen, setDoneModalOpen] = useState(false)\r\n\r\n    function onEditUsersOrder (userId) {\r\n        setSelectedUser(userId)\r\n        setProductSelectModalOpen(true)\r\n    }\r\n\r\n    function onUserSelected (userId) {\r\n        setSelectedUser(userId)\r\n        setUserSelectModalOpen(false)\r\n        setTimeout(()=>{\r\n            setProductSelectModalOpen(true)\r\n        }, 300)\r\n    }\r\n\r\n    function onProductModalClose() {\r\n        setSelectedUser(null)\r\n        setProductSelectModalOpen(false)\r\n        setUserSelectModalOpen(false)\r\n    }\r\n    const currentOrder = orders[id] || {}\r\n\r\n    const userIds = Object.keys(currentOrder.data || {})\r\n\r\n    function goBack() {\r\n        history.goBack()\r\n    }\r\n    return <div>\r\n       <UserSelect onClose={()=>setUserSelectModalOpen(false)} isOpen={isUserSelectModalOpen} onSelectUser={onUserSelected}/>\r\n        <OrderDoneModal isOpen={isDoneModalOpen} onClose={()=>setDoneModalOpen(false)}/>\r\n        <ProductSelectModal isOpen={isProductSelectModalOpen} userId={selectedUser} onAddOrDeleteProduct={()=>{}} onClose={onProductModalClose}/>\r\n        <Header title={getLocalDate(orders[id]?.date)} goBack={goBack} rightButton={{label: 'Готово', onPress:()=>setDoneModalOpen(true)}}/>\r\n        <div className={styles.content}>\r\n            {!currentOrder.data ? <EmptyState onStart={()=>setUserSelectModalOpen(true)}/> :\r\n                <div>\r\n                    {userIds?.map(userId=><UserListItem userId={userId} key={userId} onClick={()=>onEditUsersOrder(userId)}/>)}\r\n                    <HeaderButton label={'Ещё не все заказали!'} height={50} onClick={()=>{setUserSelectModalOpen(true)}}/>\r\n                </div>\r\n            }\r\n        </div>\r\n    </div>\r\n}\r\n\r\nconst EmptyState = ({onStart=()=>{}}) => {\r\n    return <div className={styles.emptyStateContainer}>\r\n        <div className={styles.emptyStateIconAndText}>\r\n            <i className={'fas fa-utensils'}/>\r\n            <div>Такс... Ну, кто чего хочет из Ленты?</div>\r\n        </div>\r\n        <HeaderButton label={'Начать!'} height={50} onClick={onStart}/>\r\n    </div>\r\n}\r\n\r\nconst UserSelect = ({isOpen, onClose, onSelectUser=()=>{}}) => {\r\n\r\n    const {id} = useParams()\r\n\r\n\r\n    const [search, setSearch] = useState('')\r\n\r\n    const {users, addUser, orders} = useContext(DataContext)\r\n\r\n    const alreadyOrderedUsers = Object.keys(orders?.[id]?.data || {}) || []\r\n\r\n    async function onAdd () {\r\n        await addUser(search)\r\n        setSearch('')\r\n\r\n    }\r\n\r\n    function getUsers() {\r\n        return Object.entries(users || {}).map(([id, user])=>({\r\n            id,\r\n            ...user\r\n        })).filter(({name, id})=>{\r\n            if (alreadyOrderedUsers.includes(id)) return false\r\n            if (search == '') return true\r\n\r\n            return name?.toLowerCase().includes(search?.toLowerCase())\r\n        })\r\n    }\r\n\r\n    return <SlideUpModal isOpen={isOpen} onClose={onClose}>\r\n        <ModalHeader title={'Кому?'}/>\r\n        <SearchBar value={search} onChange={setSearch} placeholder={'Имя...'}/>\r\n        <div className={styles.list}>\r\n            {getUsers().map(user => <User name={user.name} onClick={()=>onSelectUser(user.id)}/>)}\r\n            {search !== '' && <AddItem name={search} onClick={onAdd}/>}\r\n        </div>\r\n        <div/>\r\n    </SlideUpModal>\r\n}\r\n\r\nconst User = ({name, onClick}) => {\r\n    return <div className={styles.userItem} onClick={onClick}>{name}</div>\r\n}\r\n\r\nconst AddItem = ({name, onClick}) => {\r\n    return <div className={styles.userItem}\r\n                style={{border: 'none', color: '#1A4D9E'}}\r\n                onClick={onClick}\r\n    >{`Добавить \"${name}\"`}</div>\r\n}\r\n\r\nconst ModalHeader = ({title, button}) => {\r\n    return <div className={styles.modalHeader}>\r\n        <div>{title}</div>\r\n        {button?.label && <div><HeaderButton onClick={button.onPress} label={button.label}/></div>}\r\n    </div>\r\n}\r\n\r\nconst SearchBar = ({value, onChange, placeholder}) => {\r\n    return <input className={styles.searchBar} value={value} onChange={e=>onChange(e.target.value)} placeholder={placeholder}/>\r\n}\r\n\r\nconst ProductSelectModal = ({isOpen, userId, onClose}) => {\r\n    const [search, setSearch] = useState('')\r\n    const {users, products, addProduct, orders, addToCart} = useContext(DataContext)\r\n    const user = users?.[userId]\r\n\r\n    const {id} = useParams()\r\n\r\n    function getCart () {\r\n        try {\r\n            const cart = orders[id].data[userId]\r\n            return Object.entries(cart || {}).map(([id, amount])=>({id, amount, name: products[id].name})) || []\r\n\r\n        } catch (e) {}\r\n    }\r\n\r\n    const onAdd = async () => {\r\n        await addProduct(search)\r\n        setSearch('')\r\n    }\r\n    const getProducts = () => {\r\n        return Object.entries(products || {}).map(([id, product])=>({id, ...product})).filter(({name})=>{\r\n            if (search == '') return true\r\n\r\n            return name?.toLowerCase().includes(search?.toLowerCase())\r\n        })\r\n    }\r\n\r\n    async function onAddToCart (productId, amount) {\r\n        await addToCart(id, userId, productId, amount)\r\n    }\r\n\r\n    const cart = getCart()\r\n\r\n    return <SlideUpModal isOpen={isOpen}>\r\n        <ModalHeader title={user?.name} button={{label: 'Готово', onPress: onClose}}/>\r\n        <SearchBar value={search} onChange={setSearch} placeholder={'Товар...'}/>\r\n        <div className={styles.list}>\r\n            {cart?.length > 0 && <div className={styles.section}>{'В корзине:'}</div>}\r\n            {cart?.map(product=> <Product name={product.name} isInCart={true} onAmountChange={(n)=>onAddToCart(product.id, n)} amount={product.amount}/>)}\r\n            <div className={styles.section}>{'Ещё не в корзине:'}</div>\r\n            {getProducts().map(product => <Product name={product.name} onAmountChange={()=>onAddToCart(product.id, 1)}/>)}\r\n            {search !== '' && <AddItem name={search} onClick={onAdd}/>}\r\n        </div>\r\n        <div/>\r\n    </SlideUpModal>\r\n}\r\n\r\nconst Product = ({name, amount, onAmountChange, isInCart=false}) => {\r\n\r\n    if (!isInCart) return <div className={styles.userItem} onClick={()=>onAmountChange(1)}>{name}</div>\r\n\r\n    return <div className={styles.productItem}>\r\n        <div>{amount+' x '+ name}</div>\r\n        <div className={styles.productControllers}>\r\n            <HeaderButton label={<i className={'fas fa-minus'}/>} isProductButton onClick={()=>onAmountChange(amount - 1)}/>\r\n            <HeaderButton label={<i className={'fas fa-plus'}/>} isProductButton onClick={()=>onAmountChange(amount + 1)}/>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nconst UserListItem = ({userId, onClick=()=>{}}) => {\r\n    const {id} = useParams()\r\n    const {orders, users, products} = useContext(DataContext)\r\n\r\n    function getCart () {\r\n        try {\r\n            const cart = orders[id].data[userId]\r\n            return Object.entries(cart || {}).map(([id, amount])=>({id, amount, name: products[id].name})) || []\r\n\r\n        } catch (e) {\r\n            alert(e)\r\n        }\r\n    }\r\n\r\n    const cart = getCart()\r\n\r\n    return <div className={styles.orderItem} onClick={onClick}>\r\n        <div className={styles.orderHeader}>\r\n            {users?.[userId].name}\r\n        </div>\r\n        <div className={styles.orderList}>\r\n            {cart.map(({amount, name})=><div>{amount+' x '+name}</div>)}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nconst OrderDoneModal = ({isOpen, onClose}) => {\r\n    const {id} = useParams()\r\n    const {orders, products, closeOrder} = useContext(DataContext)\r\n\r\n    async function createToDoList () {\r\n        const response = await ToDoDoLi.createList(`Список от ${orders[id].date}`)\r\n        if (response.name) {\r\n            const total = getTotal()\r\n            const promises = total.map((item)=>{\r\n               return ToDoDoLi.addTask(response.name, `${item.amount} x ${item.name}`)\r\n            })\r\n            Promise.all(promises).then(()=>{\r\n                const win = window.open(\"https://tododoli.github.io/#/\"+response.name, \"_blank\");\r\n                win.focus();\r\n                closeOrder && closeOrder(id)\r\n            })\r\n        }\r\n    }\r\n\r\n    function getTotal () {\r\n        const orderData = orders[id]?.data\r\n        const arrayOfCarts = Object.entries(orderData || {}).map(([userId, cart])=>({\r\n            ...cart\r\n        }))\r\n\r\n        const totalObj = sumObjectsByKey(...arrayOfCarts)\r\n        return Object.entries(totalObj || {}).map(([id, amount])=>({name: products[id].name, amount}))\r\n    }\r\n\r\n\r\n    return <SlideUpModal isOpen={isOpen} onClose={onClose}>\r\n        <ModalHeader title={'Ого, сколько всего!'}/>\r\n        <div className={styles.list}>\r\n            <div style={{height: 16}}/>\r\n            <div className={styles.orderItem}>\r\n                <div className={styles.orderList}>\r\n                    {getTotal().map(({amount, name}) => <div>{amount + ' x ' + name}</div>)}\r\n                </div>\r\n            </div>\r\n            <HeaderButton label={'Экспорт в ToDoDoLi'} onClick={createToDoList}/>\r\n        </div>\r\n    </SlideUpModal>\r\n}\r\n\r\nexport default OrderScreen\r\n","import React, {useEffect} from 'react';\nimport './App.css';\nimport API from \"./api\";\nimport DataContext, {useAppData} from \"./data\";\nimport Splash from \"./components/Splash\";\nimport {HashRouter, Route} from \"react-router-dom\";\nimport MainScreen from \"./components/MainScreen\";\nimport Div100vh from \"react-div-100vh\";\nimport moment from \"moment\";\nimport 'moment/locale/ru'\nimport OrderScreen from \"./components/OrderScreen\";\n\n\nfunction App() {\n    const appData = useAppData()\n\n\n    useEffect(()=>{\n        appData.fetchAll()\n        moment.locale('ru')\n    },[])\n\n    return <Div100vh style={{overflow: 'hidden'}}>\n        <DataContext.Provider value={appData}>\n            <Splash isVisible={!appData.isLoaded}/>\n            <HashRouter>\n                <Route exact path={'/'} component={MainScreen}/>\n                <Route path={'/order/:id'} component={OrderScreen}/>\n            </HashRouter>\n        </DataContext.Provider>\n    </Div100vh>\n}\n\nwindow.api = API\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport App from \"./App\";\nimport '@fortawesome/fontawesome-free/css/all.css'\n\nReactDOM.render(<App/>, document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}